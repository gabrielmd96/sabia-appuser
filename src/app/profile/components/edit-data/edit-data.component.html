<div fxLayout="column" fxLayoutAlign="center center">
  <div class="container" fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="24px">

    <div class="profilePicContainer" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="24px" fxLayoutGap.xs="16px">
      <div>
        <label for="updatePicInput">
          <!--Para usar o componente profile pic, basta passar o uid do usuário como um parâmetro que ele irá carregar a foto -->
          <profile-pic *ngIf="!uploading && !deleting" [width]="130"></profile-pic>
          <span *ngIf="!uploading" class="edit-pic" fxLayout="row" fxLayoutAlign="center center">
            <i clIcon color="rgba(255, 255, 255, 0.7)" name="cl-edit"></i>
          </span>
        </label>
        <input type="file" hidden (change)="updatePic($event)" id="updatePicInput">

        <div fxLayout="column" fxLayoutAlign="center center">
          <mat-progress-spinner *ngIf="uploading" [value]="uploadProgress" mode="determinate"></mat-progress-spinner>
          <p *ngIf="uploading">{{ uploadProgress }} %</p>
        </div>
      </div>

      <button (click)="deletePic()" clButtonContainedSecondary>
        <i clIcon name="cl-delete"></i>
        <span>Excluir foto</span>
      </button>

    </div>
    <div class="Forms">
      <cl-form-component
        (changes)="changes($event)"
        (isValid)="isValid($event)"
        (submit)="edit()"
        [formConfig]="userProfileForm"
      ></cl-form-component>
    </div>
    <button (click)="edit()" [hasDisabled]="!formValid" [loading]="loading" clButtonContained
            class="bg-sabia-blue-500">
      <span>Salvar</span>
    </button>
  </div>

</div>
